<!-- @format -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>早安美芝城 | 最新消息</title>

    <link rel="icon" href="img/egg.png">


    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100..900&display=swap" rel="stylesheet" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/news.css" />
</head>

<body>
    <header class="site-header">
        <div class="container">
            <div class="header-logo">
                <a href="index.html">
                    <img src="img/logo.png" alt="Logo" />
                </a>
            </div>
            <div class="main-navigation">
                <nav class="header-menu">
                    <ul class="menu">
                        <li><a href="news.html">最新活動</a></li>
                        <li><a href="menu.html">美味菜單</a></li>
                        <li><a href="store.html">門市據點</a></li>
                        <li><a href="about.html">關於我們</a></li>
                        <li><a href="contact.html">聯絡我們</a></li>
                    </ul>
                </nav>
            </div>
            <div class="icon">
                <ul>
                    <li>
                        <a href="#"><i class="fa-brands fa-facebook"></i></a>
                    </li>
                    <li>
                        <a href="#"><i class="fa-brands fa-youtube"></i></a>
                    </li>
                    <li>
                        <a href="#"><i class="fa-brands fa-line"></i></a>
                    </li>
                    <li>
                        <a href="#"><i class="fa-brands fa-instagram"></i></a>
                    </li>
                </ul>
            </div>
        </div>
    </header>
    <div class="container">
        <div class="background">
            <img src="img/ban_news.jpg" alt="ban_news">
            <div class="text-container">
                <p>早安美芝城 <br> Good Morning</p>
            </div>
        </div>

        <div class="p-maincontent">
            <div class="container">
                <div class="subhead-wrap">
                    <h2 class="subhead">
                        <span class="big">最新消息</span>
                        <span class="deco">News</span>
                    </h2>
                    <ul class="breadcrumb">
                        <li><a href="index.html" title="早安美芝城首頁" class="home"><i class="fa-solid fa-house"></i></a></li>
                        <li><a href="news.html" title="最新消息">最新消息</a></li>
                    </ul>
                </div>

                <div class="items">
                    <div class="item">
                        <div class="pic">
                            <img src="./img/new_1.jpg" alt="news_1">
                        </div>
                        <div class="txt">
                            <div class="date"><span class="mon">October&nbsp;11&nbsp;,</span><span
                                    class="year">2023</span>
                            </div>
                            <p>【40週年限定】美之晨益生菌奶茶「早晨順了，一切會更順！」</p>
                        </div>
                    </div>
                    <div class="item">
                        <div class="pic">
                            <img src="./img/new_2.jpg" alt="news_2">
                        </div>
                        <div class="txt">
                            <div class="date"><span class="mon">December&nbsp;25&nbsp;,</span><span
                                    class="year">2023</span>
                            </div>
                            <p>【跨界聯名】Rachel Liaoｘ早安美芝城｜好運龍來保冷袋</p>
                        </div>

                    </div>
                    <div class="item">
                        <div class="pic">
                            <img src="./img/new_3.png" alt="news_3">
                        </div>
                        <div class="txt">
                            <div class="date"><span class="mon">December&nbsp;25&nbsp;,</span><span
                                    class="year">2023</span>
                            </div>
                            <p>【2024好運年菜】〈正港台味．好運龍來〉呷好運蘿蔔糕</p>
                        </div>
                    </div>
                    <div class="item">
                        <div class="pic">
                            <img src="./img/new_4.jpg" alt="news_4">
                        </div>
                        <div class="txt">
                            <div class="date"><span class="mon">October&nbsp;11&nbsp;,</span><span
                                    class="year">2023</span>
                            </div>
                            <p>【40週年限定】美之晨益生菌奶茶「早晨順了，一切會更順！」</p>
                        </div>
                    </div>
                    <div class="item">
                        <div class="pic">
                            <img src="./img/new_5.jpg" alt="news_5">
                        </div>
                        <div class="txt">
                            <div class="date"><span class="mon">August&nbsp;11&nbsp;,</span><span
                                    class="year">2023</span>
                            </div>
                            <p>晚安美芝城！串聯全台 15 家超人氣名店早餐大冰奶、特調蕃茄醬微醺不可思議</p>
                        </div>
                    </div>
                    <div class="item">
                        <div class="pic">
                            <img src="./img/new_6.jpg" alt="news_6">
                        </div>
                        <div class="txt">
                            <div class="date"><span class="mon">July&nbsp;01&nbsp;,</span><span class="year">2023</span>
                            </div>
                            <p>✦ World Fry Divers 世界薯條日 ✦</p>
                        </div>
                    </div>
                    <div class="item">
                        <div class="pic">
                            <img src="./img/new_7.jpg" alt="news_7">
                        </div>
                        <div class="txt">
                            <div class="date"><span class="mon">May&nbsp;04&nbsp;,</span><span class="year">2023</span>
                            </div>
                            <p>【鮮乳坊8週年慶】乳意生活節 抽日本來回機票 鮮乳週週配等大獎</p>
                        </div>
                    </div>
                    <div class="item">
                        <div class="pic">
                            <img src="./img/new_8.jpg" alt="news_8">
                        </div>
                        <div class="txt">
                            <div class="date"><span class="mon">April&nbsp;17&nbsp;,</span><span
                                    class="year">2023</span>
                            </div>
                            <p>【 美蔬綠回歸上市 】我的小情蔬</p>
                        </div>
                    </div>
                    <div class="item">
                        <div class="pic">
                            <img src="./img/new_9.png" alt="news_9">
                        </div>
                        <div class="txt">
                            <div class="date"><span class="mon">March&nbsp;01&nbsp;,</span><span
                                    class="year">2023</span>
                            </div>
                            <p>【植感亮相】吃早餐變漂亮! 國寶燕麥奶 還你漂漂顏</p>
                        </div>
                    </div>
                </div>

                <div class="pagination">
                    <a href="#" class="prev"><i class="fa-solid fa-arrow-left"></i></a>
                    <div class="pages">
                        <a href="news.html" class="page-link active">1</a>
                        <a href="news.html" class="page-link">2</a>
                        <a href="news.html" class="page-link">3</a>
                        <a href="news.html" class="page-link">4</a>
                        <a href="news.html" class="page-link">5</a>
                    </div>
                    <a href="#" class="next"><i class="fa-solid fa-arrow-right"></i></a>
                </div>
            </div>

        </div>

    </div>
    <footer class="footer">
        <div class="f-top">
            <div class="f-logo">
                <img src="./img/f_logo.png" alt="f-logo" />
            </div>
            <div>
                <ul>
                    <li class="box">
                        <span class="tit">認識我們</span>
                        <ul>
                            <li><a href="#" title="發展沿革">發展沿革</a></li>
                            <li><a href="#" title="經營理念">經營理念</a></li>
                            <li><a href="#" title="品牌優勢">品牌優勢</a></li>
                        </ul>
                    </li>
                    <li class="box">
                        <span class="tit">企業責任</span>
                        <ul>
                            <li><a href="#" title="安心食材">安心食材</a></li>
                            <li><a href="#" title="合作伙伴">合作伙伴</a></li>
                            <li><a href="#" title="社會關懷">社會關懷</a></li>
                        </ul>
                    </li>
                    <li class="box">
                        <span class="tit">夥伴招募</span>
                        <ul>
                            <li><a href="#" title="夥伴招募">夥伴招募</a></li>
                            <li><a href="#" title="我們的福利">我們的福利</a></li>
                        </ul>
                    </li>
                    <li class="box">
                        <a href="#" title="消息公告" class="tit">消息公告</a>
                        <a href="#" title="美味菜單" class="tit">美味菜單</a>
                        <a href="#" title="門市據點" class="tit">門市據點</a>
                        <a href="#" title="聯絡我們" class="tit">聯絡我們</a>
                        <a href="#" title="網站地圖" class="tit">網站地圖</a>
                        <a href="#" title="隱私權政策" class="tit">隱私權政策</a>
                    </li>
                </ul>
            </div>
        </div>

        <div class="f-bottom">
            <ul class="f-info">
                <li class="address">台南市安平工業區新平路7-1號</li>
                <li class="build">
                    公司電話&nbsp;<a href="tel:06-2635678" title="致電06-2635678">06-2635678</a>
                </li>
                <li class="call">
                    創業專線&nbsp;<a href="tel:+886800076077" title="致電0800076077">0800076077</a>
                </li>
            </ul>
            <span
                class="f-copyright">©&nbsp;2024&nbsp;Good&nbsp;Morning&nbsp;MACC.&nbsp;All&nbsp;Rights&nbsp;Reserved.</span>
            <span class="f-grnet"><a href="#" target="_blank" title="網頁設計">網頁設計</a>&nbsp;|&nbsp;&nbsp;資展國際</span>

        </div>
    </footer>
    <button id="backToTopBtn" title="回到頂部">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script>
        /*這段代碼的關鍵部分是 smoothScrollToTop() 函數。它使用 window.requestAnimationFrame() 方法來實現平滑的滾動動畫。
        
        首先獲取當前頁面的滾動位置 startPosition。
        定義 animation 函數,它會在每一幀中執行。
        在 animation 函數中,計算經過的時間 elapsedTime。
        使用三次方程 progress ** 3 來模擬從慢到快的過渡效果。
        根據計算出的 y 值,使用 window.scrollTo(0, y) 來設置新的滾動位置。
        如果 progress 小於 1,則繼續請求下一幀的動畫。
        通過這個方式,當用戶點擊回到頂部按鈕時,頁面會平滑地從當前位置滾動回頂部,並且滾動速度會從慢到快,產生一個漸變的過渡效果。
        
        你可以根據需要調整動畫持續時間 duration 和過渡曲線函數,以獲得不同的滾動效果。*/


        // 獲取按鈕元素
        const backToTopBtn = document.getElementById("backToTopBtn");

        // 當用戶滾動頁面時執行函數
        window.onscroll = function () {
            scrollFunction();
        };

        // 顯示或隱藏按鈕
        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                backToTopBtn.style.display = "block";
            } else {
                backToTopBtn.style.display = "none";
            }
        }

        // 點擊按鈕，回到頁面頂部
        backToTopBtn.addEventListener("click", function () {
            smoothScrollToTop();
        });

        // 平滑滾動到頁面頂部
        function smoothScrollToTop() {
            const startPosition = window.pageYOffset; // 獲取當前頁面的垂直滾動位置
            let startTime = null; // 初始化開始時間為 null

            function animation(currentTime) { // 定義動畫函數
                if (startTime === null) startTime = currentTime; // 如果開始時間為 null,則將其設置為當前時間

                const elapsedTime = currentTime - startTime; // 計算經過的時間
                const duration = 500; // 設置動畫持續時間為 500 毫秒
                const progress = Math.min(elapsedTime / duration, 1); // 計算動畫進度,最大為 1

                // 計算新的滾動位置,使用三次方程 (1 - progress)^3 模擬從慢到快的過渡效果
                const y = startPosition * (1 - progress ** 3);

                window.scrollTo(0, y); // 將頁面滾動到新的位置

                if (progress < 1) { // 如果動畫還未完成
                    window.requestAnimationFrame(animation); // 請求下一幀動畫
                }
            }

            window.requestAnimationFrame(animation); // 啟動動畫
        }

        /*

        在 HTML 中,為頁碼連結添加了 class="page-link"。
        在 JavaScript 中,使用 document.querySelectorAll('.page-link') 獲取所有頁碼連結。
        為每個頁碼連結添加了點擊事件監聽器。
        在點擊事件處理函數中:
        首先阻止了默認行為 (e.preventDefault())。
        然後移除所有頁碼連結的 active 樣式 (link.classList.remove('active'))。
        最後為當前點擊的頁碼連結添加 active 樣式 (this.classList.add('active'))。
        通過這種方式,當用戶點擊任何一個頁碼連結時,所有連結的 active 樣式都會被移除,然後為當前點擊的連結添加 active 樣式。這樣可以實現分頁的切換效果。
        */

        //DOMContentLoaded 事件在窗口的所有資源加載完成之前就會觸發。例如,圖像、樣式表等資源可能尚未完全加載。
        document.addEventListener('DOMContentLoaded', function () {
            const pageLinks = document.querySelectorAll('.page-link');

            pageLinks.forEach(function (link) {
                link.addEventListener('click', function (e) {
                    e.preventDefault(); // 防止默認行為

                    // 移除所有頁碼的 active 樣式
                    pageLinks.forEach(function (link) {
                        link.classList.remove('active');
                    });

                    // 為當前點擊的頁碼添加 active 樣式
                    this.classList.add('active');
                });
            });
        });

        /*

        在 JavaScript 中獲取了上一頁按鈕 (prevBtn)、下一頁按鈕 (nextBtn) 和所有頁碼連結 (pageLinks)。
        定義了一個 getCurrentPage() 函數,用於獲取當前激活的頁碼索引。
        定義了一個 changePage(pageIndex) 函數,用於切換當前激活的頁碼。
        為上一頁按鈕添加了點擊事件監聽器,更新 currentPage 並調用 changePage() 函數切換頁碼。
        為下一頁按鈕添加了點擊事件監聽器,更新 currentPage 並調用 changePage() 函數切換頁碼。
        為每個頁碼連結添加了點擊事件監聽器,更新 currentPage 並調用 changePage() 函數切換頁碼。
        */

        document.addEventListener('DOMContentLoaded', function () {
            const pageLinks = document.querySelectorAll('.page-link');
            const prevBtn = document.querySelector('.prev');
            const nextBtn = document.querySelector('.next');

            let currentPage = getCurrentPage();

            function getCurrentPage() {
                return [...pageLinks].findIndex(link => link.classList.contains('active'));
            }

            function changePage(pageIndex) {
                // 移除所有頁碼的 active 樣式
                pageLinks.forEach(link => link.classList.remove('active'));

                // 為指定頁碼添加 active 樣式
                pageLinks[pageIndex].classList.add('active');
            }

            prevBtn.addEventListener('click', function (e) {
                e.preventDefault();

                /*
                currentPage - 1
                這部分代碼將 currentPage 減去 1,目的是獲取上一個頁碼的索引。例如,如果當前頁碼是 2,那麼 currentPage - 1 就是 1,代表上一頁的索引。
                + pageLinks.length
                這個部分的目的是為了處理當前頁碼已經是第一頁的情況。如果直接對 currentPage - 1 取模,可能會得到負數結果,而負數索引在數組中是無效的。
                所以,我們先將 currentPage - 1 加上 pageLinks.length,確保結果為正數。例如,如果當前頁碼是 0,那麼 0 - 1 + pageLinks.length 就會變成 pageLinks.length - 1。
                % pageLinks.length
                取模運算的作用是保證結果在 0 到 pageLinks.length - 1 之間,這樣就可以避免索引超出範圍。
                如果 currentPage 已經是第一頁,那麼 (pageLinks.length - 1) % pageLinks.length 就會變成 pageLinks.length - 1,代表最後一頁的索引。
                總的來說,這行代碼的作用是:

                如果當前頁碼不是第一頁,則返回上一個頁碼的索引。
                如果當前頁碼是第一頁,則返回最後一頁的索引,實現循環效果。
                */
                currentPage = (currentPage - 1 + pageLinks.length) % pageLinks.length;
                changePage(currentPage);
            });

            nextBtn.addEventListener('click', function (e) {
                e.preventDefault();
                currentPage = (currentPage + 1) % pageLinks.length;
                changePage(currentPage);
            });

            pageLinks.forEach(function (link, index) {
                // 1. 遍歷每個頁碼連結元素
                // 2. link 參數代表當前被遍歷的頁碼連結元素
                // 3. index 參數代表當前頁碼連結在 pageLinks 列表中的索引

                link.addEventListener('click', function (e) {
                    // 4. 為當前頁碼連結添加點擊事件監聽器
                    // 5. 阻止默認點擊行為 (防止頁面跳轉)
                    e.preventDefault();

                    // 6. 將 currentPage 設置為當前點擊的頁碼連結索引
                    currentPage = index;

                    // 7. 調用 changePage 函數,傳入 currentPage
                    //    該函數會移除所有頁碼連結的 active 樣式
                    //    然後為索引對應的頁碼連結添加 active 樣式
                    changePage(currentPage);
                });
            });
        });
    </script>
</body>

</html>